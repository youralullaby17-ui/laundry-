{% extends 'base.html' %}
{% block content %}
<h2 style="text-align:center;">ğŸ“Š Dashboard Laundry</h2>

<div class="dashboard-grid">
  <div class="card card-transaksi">
    <h3>ğŸ§¾ Total Transaksi</h3>
    <p>{{ total_transaksi }}</p>
  </div>
  <div class="card card-pemasukan">
    <h3>ğŸ’° Total Pemasukan</h3>
    <p>Rp {{ total_pemasukan }}</p>
  </div>
  <div class="card card-kasbon">
    <h3>ğŸ“‰ Total Kasbon</h3>
    <p>Rp {{ total_kasbon }}</p>
  </div>
  <div class="card card-belum">
    <h3>ğŸ§º Belum Diambil</h3>
    <p>{{ belum_diambil }}</p>
  </div>
</div>

<h3 style="text-align:center;">ğŸ“ˆ Status Pembayaran</h3>
<canvas id="grafikDashboard" width="600" height="300"></canvas>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const ctx = document.getElementById('grafikDashboard').getContext('2d');
  const chart = new Chart(ctx, {
    type: 'doughnut',
    data: {
      labels: ['Lunas', 'Belum Lunas'],
      datasets: [{
        label: 'Status Pembayaran',
        data: {{ status_data | safe }},
        backgroundColor: ['#4caf50', '#f44336']
      }]
    }
  });
</script>
{% endblock %}
